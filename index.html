<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Form Patroli</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f7f7f7;
        padding: 20px;
    }
    .form-container {
        max-width: 600px;
        margin: auto;
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    h2 {
        text-align: center;
        color: #333;
    }
    label {
        font-weight: bold;
        margin-top: 10px;
        display: block;
    }
    select, input, textarea {
        width: 100%;
        padding: 8px;
        margin-top: 5px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
    button {
        background: #1976d2;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    button:hover {
        background: #0f5ca6;
    }
</style>
</head>
<body>

<div class="form-container">
    <h2>Form Patroli</h2>
    <form id="patroliForm" enctype="multipart/form-data" method="POST">
        
        <label>Nama:</label>
        <input type="text" name="nama" required>

        <label>Cabang:</label>
        <select name="cabang" required>
            <option value="Head Office">Head Office</option>
        </select>

        <label>Wilayah:</label>
        <select name="wilayah" id="wilayah" required>
            <option value="">-- Pilih Wilayah --</option>
            <option value="Wilayah 1">Wilayah 1</option>
            <option value="Wilayah 1B">Wilayah 1B</option>
            <option value="Wing">Wing</option>
            <option value="UTHO Tower">UTHO Tower</option>
            <option value="Wilayah 2">Wilayah 2</option>
            <option value="Wilayah 3">Wilayah 3</option>
        </select>

        <label>Checkpoint:</label>
        <select name="checkpoint" id="checkpoint" required>
            <option value="">-- Pilih Checkpoint --</option>
        </select>

        <label>Kejadian:</label>
        <select name="kejadian" id="kejadian" required>
            <option value="">-- Pilih Kejadian --</option>
            <option value="Kejadian 1">Kondisi Pintu, jendela rusak, terbuka / belum terkunci</option>
            <option value="Kejadian 2">Lampu padam , rusak / hilang</option>
            <option value="Kejadian 3">Pagar, Kawat duri rusak</option>
            <option value="Kejadian 4">Pipa air bersih / hidran / limbah bocor</option>
            <option value="Kejadian 5">Kunci gembok rusak atau hilang</option>
            <option value="Kejadian 6">Komponen unit rusak / hilang</option>
            <option value="Kejadian 7">Kondisi Hujan</option>
            <option value="Kejadian 8">Hubungan pendek listrik</option>
            <option value="Kejadian 9">Kebocoran air di ruangan</option>
            <option value="Kejadian 10">Situasi aman terkendali</option>
        </select>

        <label>Kategori Lokasi:</label>
        <select name="kategori" id="kategori">
            <option value="">-- Pilih Kategori Lokasi --</option>
            <option value="Bangunan">Bangunan</option>
            <option value="Fasilitas Tamu dan Karyawan">Fasilitas Tamu dan Karyawan</option>
            <option value="Ruang Terbuka">Ruang Terbuka</option>
            <option value="Alat Kerja">Alat Kerja</option>
            <option value="Pendukung Kerja">Pendukung Kerja</option>
            <option value="K3LH & Security">K3LH & Security</option>
            <option value="Lainnya">Kategori Lokasi Lainnya</option>
        </select>

        <label>Upload Foto:</label>
        <input type="file" name="foto" accept="image/*">

        <button type="submit">Kirim</button>
    </form>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxUCE4TPQtbKsRABXV-nWt-C4dYmLddU8pbXbltLUgM2egyuRO8eyZ56Jtx00ejI0A/exec"; // Ganti dengan URL Web App kamu

document.getElementById('patroliForm').addEventListener('submit', function(e) {
    e.preventDefault();
    let form = document.getElementById('patroliForm');
    let formData = new FormData(form);

    fetch(SCRIPT_URL, { method: 'POST', body: formData })
        .then(response => response.text())
        .then(result => {
            alert("Form berhasil dikirim!");
            form.reset();
        })
        .catch(error => {
            alert("Gagal mengirim form!");
            console.error(error);
        });
});
</script>

</body>
</html>
